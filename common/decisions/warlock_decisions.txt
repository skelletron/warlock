read_esoteric_texts_decision = {	#Go to the library and read esoteric texts.
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = read_esoteric_texts_decision.desc
	selection_tooltip = read_esoteric_texts_decision.tt

	is_shown = {
		# has_variable = false_convert
		# NOR = {
		# 	this = faith.religious_head
		# 	var:false_convert = faith
		# }
		# NOT = {
		# 	faith.religion = faith:great_old_one.religion
		# }
		NOT = {
			faith = faith:great_old_one
		}
	}

	is_valid = {
		is_adult = yes
		# NOT = { has_trait = zealous }
	}

	# is_valid_showing_failures_only = {
	# 	custom_description = {
	# 		text = cannot_be_atoned_krstjani_leader_flag
	# 		NOT = { has_character_flag = atoned_krstjani_leader_flag }
	# 	}
	# }

	cost = {
		piety = minor_piety_value
	}

	cooldown = { years = 5 }

	effect = {
		custom_tooltip = read_esoteric_texts_decision_effect.tt
		# trigger_event = {
		# 	id = warlock_decision.0001
		# }
		trigger_event = warlock_decision.0001
	}
}

beseech_dark_coronation_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = beseech_dark_coronation_decision.desc
	selection_tooltip = beseech_dark_coronation_decision.tt

	is_shown = {
		faith = faith:great_old_one
		NOT = {
			has_trait = warlock
		}
	}

	is_valid = {
		is_adult = yes
	}

	cost = {
		piety = minor_piety_value
	}

	cooldown = { years = 1 }

	effect = {
		custom_tooltip = beseech_dark_coronation_decision_effect.tt
		# trigger_event = {
		# 	id = warlock_decision.1001
		# }
		trigger_event = warlock_decision.1001
	}

}

choose_familiar_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

	desc = choose_familiar_decision.desc
	selection_tooltip = choose_familiar_decision.tt

	is_shown = {
		faith = faith:great_old_one
		has_trait = warlock
		NOT = {
			has_character_flag = has_familiar_flag
		}
	}

	is_valid = {
		is_adult = yes
	}

	cost = {
		piety = minor_piety_value
	}

	# cooldown = { years = 10 }
	cooldown = { years = 1 }

	effect = {
		custom_tooltip = choose_familiar_decision_effect.tt
		trigger_event = warlock_decision.2001
	}
}

play_with_familiar_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_activity.dds"

	desc = play_with_familiar.desc
	selection_tooltip = play_with_familiar.tt

	is_shown = {
		faith = faith:great_old_one
		has_trait = warlock
		has_character_flag = has_familiar_flag
	}

	is_valid = {
		is_adult = yes
	}

	cost = {
		# piety = minor_piety_value
	}

	cooldown = { years = 5 }

	effect = {
		custom_tooltip = play_with_familiar_a_effect.tt
		custom_tooltip = play_with_familiar_b_effect.tt
		trigger_event = familiar.1001
	}
}

commit_mass_sacrifice_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_activity.dds"

	desc = commit_mass_sacrifice.desc
	# selection_tooltip = commit_mass_sacrifice.tt

	is_shown = {
		faith = faith:great_old_one
		# has_trait = warlock
		is_ruler = yes
	}

	is_valid = {
		is_adult = yes
		faith = faith:great_old_one
		# NOT = {
		# 	has_trait = compassionate
		# }
	}

	cost = {
		# actual cost
		gold = medium_gold_value
	}



	# actual cooldown
	cooldown = { years = 10 }
	# testing cooldown
	# cooldown = { days = 1 }


	effect = {
		save_scope_as = sacrificer
		trigger_event = realm.1001

		# custom_tooltip = commit_mass_sacrifice_a_effect.tt
		# custom_tooltip = commit_mass_sacrifice_b_effect.tt
		# trigger_event = familiar.1001
	}
}

quick_start_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_activity.dds"

	desc = quick_start_decision.desc

	is_shown = {
		NOT = {
			faith = faith:great_old_one
			has_trait = warlock
			has_character_flag = quick_start_done
		}

	}

	is_valid = {
		is_adult = yes
		NOT = {
			faith = faith:great_old_one
			has_trait = warlock
		}
	}

	effect = {
		save_scope_as = owner
		trigger_event = quick_start.1001
	}
}

summon_great_old_one_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_activity.dds"

	desc = summon_great_old_one_decision.desc

	is_shown = {
		faith = faith:great_old_one
		is_adult = yes
		NOT = {
			has_character_flag = summoned_great_old_one_flag
			has_trait = duke_of_darkness
		}
	}

	is_valid = {
		# is_adult = yes
		# faith = faith:great_old_one
		has_trait = warlock
		has_perk = dhampir_perk
		has_perk = temp_bone_4_perk
		has_perk = modify_collective_memory_perk
		has_perk = psychic_armaments_perk
		has_perk = bend_intellect_perk
		faith:great_old_one = {
			holy_sites_controlled >= 8
			num_county_followers >= 400
		}
	}

	cost = {
		# actual cost
		piety = 100000
		# test cost
		# piety = 50
	}

	effect = {
		save_scope_as = owner
		trigger_event = summon_great_old_one.1001
	}
}

hear_prayers_decision = {
	ai_check_interval = 0
	picture = "gfx/interface/illustrations/decisions/decision_activity.dds"

	desc = hear_prayers_decision.desc

	is_shown = {
		faith = faith:great_old_one
		is_adult = yes
		# has_character_flag = summoned_great_old_one_flag
		has_trait = warlock
		has_trait = duke_of_darkness
		# NOT = {
		# 	has_character_flag = summoned_great_old_one_flag
		# }
	}

	is_valid = {
	}

	effect = {
		save_scope_as = owner
		trigger_event = hear_prayers.1001
	}
}

# spawn_undead_faction_decision = {
# 	ai_check_interval = 0
# 	picture = "gfx/interface/illustrations/decisions/decision_major_religion.dds"

# 	# desc = beseech_dark_coronation_decision.desc
# 	# selection_tooltip = beseech_dark_coronation_decision.tt

# 	is_shown = {
# 		faith = faith:great_old_one
# 		has_trait = warlock
# 	}

# 	is_valid = {
# 		is_adult = yes
# 	}

# 	cost = {
# 		piety = 1
# 	}

# 	cooldown = { days = 10 }

# 	effect = {
# 		# custom_tooltip = beseech_dark_coronation_decision_effect.tt
# 		# trigger_event = {
# 		# 	id = warlock_decision.1001
# 		# }
# 		# trigger_event = warlock_decision.1001
# 		# faction = {
# 		# 	save_scope_as = faction
# 		# 	setup_peasant_leader_effect = yes
# 		# 	# special_character = {
# 		# 	# 	save_scope_as = peasant_leader
# 		# 	# }
# 		# }

# 		trigger_event = warlock_faction_decision.0001
# 	}
# }